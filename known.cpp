#include "Shape.hpp"
#include <stdexcept>

uint64_t known_shapes_1[]{ 1, };
uint64_t known_shapes_2[]{ 3, };
uint64_t known_shapes_3[]{ 259, 7, };
uint64_t known_shapes_4[]{ 771, 519, 774, 263, 15, };
uint64_t known_shapes_5[]{ 527, 67330, 775, 66310, 271, 1287, 782, 67329, 132866, 65799, 67332, 31, };
uint64_t known_shapes_6[]{ 134914, 134916, 132867, 2319, 1806, 198156, 131854, 132869, 543, 67331, 1820, 66318, 67333, 66823, 1805, 1799, 131599, 287, 66311, 63, 65807, 197134, 67334, 783, 798, 132876, 67340, 134659, 69380, 69384, 69378, 1295, 1551, 1055, 69377, };
uint64_t known_shapes_7[]{ 33754628, 17761284, 17237004, 16977416, 33689346, 139010, 139016, 132878, 134922, 2591, 2335, 204292, 17239044, 459804, 200216, 134921, 134667, 132877, 132623, 16977412, 2846, 198172, 134936, 73473, 575, 67341, 198151, 197135, 66319, 67335, 127, 3865, 3611, 263199, 4383, 319, 33689348, 69400, 263964, 66334, 68366, 69382, 197895, 132871, 1807, 196879, 131855, 66831, 16843023, 73474, 830, 17760770, 139012, 1852, 73480, 16844556, 198158, 198412, 2831, 67855, 68871, 65823, 799, 69379, 328967, 16977410, 134924, 16846600, 132892, 200202, 16846596, 67356, 459278, 197150, 199182, 69388, 200198, 16975372, 134918, 133902, 16846594, 1822, 393998, 131870, 69386, 134915, 1311, 270084, 73488, 198406, 16843534, 67342, 197390, 134917, 16846593, 1821, 393743, 131615, 133647, 134663, 200195, 1567, 69385, 329477, 69381, 1087, 138755, 73476, };
uint64_t known_shapes_8[]{ 117703708, 67574788, 17243152, 17243140, 17237020, 17237006, 17761286, 67378948, 35587076, 34278914, 52298756, 17243144, 34020360, 34020356, 17761540, 34213634, 17106700, 34016772, 17760774, 34016262, 17239046, 34014236, 17239300, 17239064, 17237516, 50727960, 17239560, 50725916, 17108744, 67372063, 16981520, 16981512, 16981508, 16977432, 33951492, 33951490, 17761794, 16975388, 17630980, 17239297, 16977420, 34539544, 50470404, 35521027, 17761292, 16977418, 50464284, 17239304, 33758728, 33758724, 33758722, 7985, 33754648, 33754636, 33754634, 33752604, 16977668, 7731, 33751582, 278280, 17763332, 270097, 270086, 16976398, 33693444, 5917, 18810888, 33693187, 5407, 17762316, 33689356, 278276, 33689354, 33689349, 18809860, 17760771, 394511, 16844558, 136988, 16844047, 16977414, 1916, 266040, 200248, 3643, 3898, 16981506, 4926, 73482, 139017, 204308, 69383, 200453, 73492, 16846597, 277511, 138763, 204298, 270090, 139020, 3135, 17761026, 16844572, 133918, 1343, 1151, 894, 383, 16977672, 329479, 33689353, 68367, 66335, 460316, 263711, 34213636, 459023, 255, 134923, 200458, 71452, 16845071, 133903, 17501700, 199438, 461880, 198413, 67372828, 202268, 134968, 67343, 16975374, 16846616, 198927, 460039, 396046, 268060, 395021, 17108738, 69402, 33754630, 329486, 16843535, 70430, 50732036, 200472, 3867, 134937, 17760515, 4895, 16843039, 198414, 131871, 16974366, 138771, 17630978, 137743, 71951, 18809346, 16846598, 139028, 200451, 16846087, 16846601, 460060, 134919, 200454, 17370881, 33689350, 198204, 400391, 4671, 204300, 16850704, 263231, 69432, 131647, 459836, 65855, 197182, 462089, 33693442, 134671, 16845582, 68879, 460046, 593673, 198407, 33688334, 33689347, 460045, 73496, 135711, 197391, 592143, 201246, 328975, 17239554, 200218, 132924, 204336, 266010, 1854, 134940, 33753614, 3870, 394271, 394014, 459806, 3615, 266012, 265755, 200203, 196895, 397065, 3855, 132639, 198174, 263966, 395036, 197406, 459791, 17761796, 50466328, 459534, 393999, 3900, 3359, 73520, 331015, 33686047, 69389, 331529, 67871, 3897, 199198, 200206, 133663, 67357, 17762328, 33689368, 134925, 68382, 459279, 69390, 2847, 1853, 66847, 67388, 2367, 138759, 67568668, 72967, 73481, 204294, 459294, 460302, 393759, 329500, 263965, 17108740, 69404, 3869, 394767, 266009, 17108737, 198159, 69401, 329485, 461831, 198428, 67358, 1823, 17501698, 132893, 639, 73490, 17766408, 397062, 33693448, 72462, 8511, 33686302, 16846595, 263455, 263996, 139025, 16977665, 200199, 331526, 197151, 199183, 16977411, 200460, 831, 34016280, 66366, 73478, 132879, 204291, 1599, 139013, 73484, 34473732, 69919, 270089, 69387, 200457, 50463262, 16846604, 199943, 17370884, 2878, 3960, 134938, 135966, 395022, 331530, 197903, 73477, 73475, 17762818, 16850692, 33687324, 146947, 147204, 2175, 2623, 203278, 16846602, 331525, 139032, 73489, 17370882, 131902, 16850689, 81696, 139056, 137998, 16977666, 212488, 212484, 270085, 16850690, 16850696, 204306, 132894, 81666, 139014, 81668, 139026, 81680, 134926, 17370888, 16844557, 81672, 139018, 134683, 81665, 139011, 147216, 16843550, 147208, 17239556, 200220, 204548, 147202, 17239052, 4415, };

size_t shape_count(size_t n) {
    // A000105
    switch (n) {
        case 0: return 0;
        case 1: return 1;
        case 2: return 1;
        case 3: return 2;
        case 4: return 5;
        case 5: return 12;
        case 6: return 35;
        case 7: return 108;
        case 8: return 369;
        default: throw std::runtime_error{ "not yet computed" };
    }
}

Shape shape_at(size_t n, size_t i) {
    switch (n) {
        case 1: return Shape{ known_shapes_1[i] };
        case 2: return Shape{ known_shapes_2[i] };
        case 3: return Shape{ known_shapes_3[i] };
        case 4: return Shape{ known_shapes_4[i] };
        case 5: return Shape{ known_shapes_5[i] };
        case 6: return Shape{ known_shapes_6[i] };
        case 7: return Shape{ known_shapes_7[i] };
        case 8: return Shape{ known_shapes_8[i] };
        default: throw std::runtime_error{ "not yet computed" };
    }
}
